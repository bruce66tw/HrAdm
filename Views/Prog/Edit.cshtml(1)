@{ 
    var cols = _Fun.DefHCols;
}

<form id='eform' class='xg-form'>
	@await Component.InvokeAsync("XiHide", new { fid = "Id" })
	
	@await Component.InvokeAsync("XiText", new { title = "功能代碼", fid = "Code", maxLen = 30, required = true })
	@await Component.InvokeAsync("XiText", new { title = "功能名稱", fid = "Name", maxLen = 30, required = true })
	@await Component.InvokeAsync("XiText", new { title = "圖示", fid = "Icon", maxLen = 20 })
	@await Component.InvokeAsync("XiText", new { title = "Url", fid = "Url", maxLen = 100 })
</form>

<div class='xg-btns-box'>
	<span class="xg-block-label">角色功能</span>
	@await Component.InvokeAsync("XgAddRow", "_me.mRoleProg.onAddRow()")
</div>
<form id='eformRoleProg' class='xg-form' style="border:none; width:50%;">
    <table class="table table-bordered xg-table xg-no-hline" cellspacing="0">
        <thead>
            <tr>
				@await Component.InvokeAsync("XgTh", new { title = "功能Id", required = true })
				<th></th>
            </tr>
        </thead>
        <tbody id="tbodyRoleProg"></tbody>
    </table>
</form>

@await Component.InvokeAsync("XgSaveBack")

<script id="tplRoleProg" type="text/template">
    <tr>
		@await Component.InvokeAsync("XiHide", new { fid = "Id" })
		@await Component.InvokeAsync("XiHide", new { fid = "RoleId" })
		<td>@await Component.InvokeAsync("XiSelect", new { fid = "ProgId", rows = (List<IdStrDto>)ViewBag.Progs, required = true })</td>
		<td width='60px' class='text-center'>@await Component.InvokeAsync("XgDeleteRow", "_me.mRoleProg.onDeleteRow(this)")</td>
    </tr>
</script>

