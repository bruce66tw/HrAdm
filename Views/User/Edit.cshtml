@{ 
    var cols = _Fun.DefHCols;
}

<form id='eform' class='xg-form'>
	@await Component.InvokeAsync("XiHide", new { fid = "Id" })
	
	@await Component.InvokeAsync("XiText", new { title = "帳號", fid = "Account", maxLen = 20 })
	@await Component.InvokeAsync("XiText", new { title = "使用者名稱", fid = "Name", maxLen = 20 })
	@await Component.InvokeAsync("XiText", new { title = "密碼", fid = "Pwd", type = "password", maxLen = 32 })
	@await Component.InvokeAsync("XiSelect", new { title = "部門", fid = "DeptId", rows = (List<IdStrDto>)ViewBag.Depts })
	@await Component.InvokeAsync("XiCheck", new { title = "資料狀態", fid = "Status" })
</form>

<div class='xg-btns-box'>
	<span class="xg-block-label">用戶角色</span>
	@await Component.InvokeAsync("XgAddRow", "_me.mUserRole.onAddRow()")
</div>
<form id='eformUserRole' class='xg-form' style="border:none; width:50%;">
    <table class="table table-bordered xg-table xg-no-hline" cellspacing="0">
        <thead>
            <tr>
				@await Component.InvokeAsync("XgTh", new { title = "角色Id", required = true })
				<th></th>
            </tr>
        </thead>
        <tbody id="tbodyUserRole"></tbody>
    </table>
</form>

@await Component.InvokeAsync("XgSaveBack")

<script id="tplUserRole" type="text/template">
    <tr>
		@await Component.InvokeAsync("XiHide", new { fid = "Id" })
		@await Component.InvokeAsync("XiHide", new { fid = "UserId" })
		<td>@await Component.InvokeAsync("XiSelect", new { fid = "RoleId", rows = (List<IdStrDto>)ViewBag.Roles, required = true })</td>
		<td width='60px' class='text-center'>@await Component.InvokeAsync("XgDeleteRow", "_me.mUserRole.onDeleteRow(this)")</td>
    </tr>
</script>

